(this["webpackJsonpgame-of-life"]=this["webpackJsonpgame-of-life"]||[]).push([[0],{54:function(e,t,a){e.exports=a(70)},59:function(e,t,a){},61:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(31),o=a.n(s),i=(a(59),a(25)),l=a.n(i),c=a(30),u=a(6),m=a(7),d=a(9),p=a(8),h=a(52),g=a(29),f=a(10),b=(a(61),a(3)),v=new function e(){Object(u.a)(this,e),Object(b.h)(this,{loading:!0,key:"",username:""})},y=a(32),E=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"inputPolly",style:{marginTop:"30px"}},r.a.createElement("input",{type:this.props.type,placeholder:this.props.placeholder,value:this.props.value,onChange:function(t){return e.props.onChange(t.target.value)}}))}}]),a}(r.a.Component),S=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"submitButton",style:{marginTop:"10px"}},r.a.createElement("button",{className:"btn",onClick:function(){return e.props.onClick()}},r.a.createElement("span",{className:"btn__content"},this.props.text),r.a.createElement("span",{className:"btn__glitch"})))}}]),a}(r.a.Component),k=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).setRedirectLogin=function(){e.setState({redirect:!0})},e.setRedirectDashboard=function(){e.setState({redirectDashboard:!0})},e.renderRedirect=function(){return e.state.redirect?r.a.createElement(f.a,{to:"/register"}):e.state.redirectDashboard?r.a.createElement(f.a,{to:"/"}):void 0},e.state={username:"",password:"",redirect:!1,redirectDashboard:!1},Object(b.o)((function(){v.key=sessionStorage.getItem("key"),v.loading=!1})),e}return Object(m.a)(a,[{key:"setInputValue",value:function(e,t){t=t.trim(),this.setState(Object(y.a)({},e,t))}},{key:"doLogin",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.username){e.next=2;break}return e.abrupt("return");case 2:if(this.state.password){e.next=4;break}return e.abrupt("return");case 4:return Object(b.o)((function(){v.loading=!0})),e.next=7,fetch("/credentials/user/verify?username=".concat(this.state.username,"&password=").concat(this.state.password));case 7:return t=e.sent,e.next=10,t.json();case 10:a=e.sent,Object(b.o)((function(){v.loading=!1})),"Not Found"!==a.title?(Object(b.o)((function(){v.loading=!0})),sessionStorage.setItem("key",a),sessionStorage.setItem("username",this.state.username),sessionStorage.setItem("selectedPage","dashboard"),Object(b.o)((function(){v.key=a,v.username=n.state.username})),Object(b.o)((function(){v.loading=!1})),this.setState({redirectDashboard:!0})):alert("Username and password combination not valid");case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"loginFormPolly"},r.a.createElement("div",{className:"loginForm"},r.a.createElement("div",{style:{textAlign:"center",color:"#17c5fa",marginTop:"25px"}},r.a.createElement("p",null,"Log in")),r.a.createElement(E,{className:"username",type:"text",placeholder:"Username",value:this.state.username?this.state.username:"",onChange:function(t){return e.setInputValue("username",t)}}),r.a.createElement(E,{className:"password",type:"password",placeholder:"Password",value:this.state.password?this.state.password:"",onChange:function(t){return e.setInputValue("password",t)}}),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(S,{text:"LOG IN",onClick:function(){return e.doLogin()}})),this.renderRedirect(),r.a.createElement("div",{style:{display:"flex",marginBottom:"30px",marginTop:"30px"}},r.a.createElement("p",{className:"textAnimationSmall"},"Don't have an account?"),r.a.createElement("button",{className:"button",onClick:this.setRedirectLogin},"Register")),r.a.createElement("div",{style:{display:"flex",marginBottom:"10px"}},r.a.createElement("p",{className:"textAnimationSmall",style:{fontSize:"1.2em"}},"Don't want to log in?"),r.a.createElement("button",{className:"button",onClick:this.setRedirectDashboard,style:{fontSize:"1.2em"}},"Go back to the game")))))}}]),a}(r.a.Component),I=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).setRedirect=function(){e.setState({redirect:!0})},e.setRedirectDashboard=function(){e.setState({redirectDashboard:!0})},e.renderRedirect=function(){return e.state.redirect?r.a.createElement(f.a,{to:"/login"}):e.state.redirectDashboard?r.a.createElement(f.a,{to:"/"}):void 0},e.state={username:"",password:"",passwordConfirmation:"",redirectDashboard:!1},Object(b.o)((function(){v.key=sessionStorage.getItem("key"),v.loading=!1})),e}return Object(m.a)(a,[{key:"setInputValue",value:function(e,t){(t=t.trim()).length>15||this.setState(Object(y.a)({},e,t))}},{key:"doRegister",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.username){e.next=2;break}return e.abrupt("return");case 2:if(this.state.password){e.next=4;break}return e.abrupt("return");case 4:if(this.state.passwordConfirmation){e.next=6;break}return e.abrupt("return");case 6:return Object(b.o)((function(){v.loading=!0})),t="",t=this.state.password!==this.state.passwordConfirmation?"Passwords do not match":"",e.next=11,fetch("/credentials/user/verifyusername?username=".concat(this.state.username));case 11:return a=e.sent,e.next=14,a.json();case 14:n=e.sent,Object(b.o)((function(){v.loading=!1})),""===(t="Not Found"!==n.title?"Username already exists":t)?(Object(b.o)((function(){v.loading=!0})),r={username:this.state.username,password:this.state.password},fetch("/credentials/user",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}),alert("New user created"),this.setRedirect(),Object(b.o)((function(){v.loading=!1}))):alert(t);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"registrationFormPolly"},r.a.createElement("div",{className:"loginForm"},this.renderRedirect(),r.a.createElement("div",{style:{textAlign:"center",color:"#17c5fa",marginTop:"25px"}},r.a.createElement("p",null,"Register")),r.a.createElement(E,{className:"username",type:"text",placeholder:"Username",value:this.state.username?this.state.username:"",onChange:function(t){return e.setInputValue("username",t)}}),r.a.createElement(E,{className:"password",type:"password",placeholder:"Password",value:this.state.password?this.state.password:"",onChange:function(t){return e.setInputValue("password",t)}}),r.a.createElement(E,{className:"repeatPassword",type:"password",placeholder:"Repeat Password",value:this.state.passwordConfirmation?this.state.passwordConfirmation:"",onChange:function(t){return e.setInputValue("passwordConfirmation",t)}}),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(S,{text:"REGISTER",onClick:function(){return e.doRegister()}})),r.a.createElement("div",{style:{display:"flex",marginBottom:"30px",marginTop:"30px"}},r.a.createElement("p",{className:"textAnimationBig"},"Already have an account?"),r.a.createElement("button",{className:"button",onClick:this.setRedirect},"Log in")),r.a.createElement("div",{style:{display:"flex",marginBottom:"10px"}},r.a.createElement("p",{className:"textAnimationSmall",style:{fontSize:"1.2em"}},"Don't want to log in?"),r.a.createElement("button",{className:"button",onClick:this.setRedirectDashboard,style:{fontSize:"1.2em"}},"Go back to the game")))))}}]),a}(r.a.Component),C=a(89),N=a(87),O=a(88),x=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).doLogin=function(){e.setState({redirectLogin:!0})},e.renderRedirect=function(){if(e.state.redirectLogin)return r.a.createElement(f.a,{to:"/login"})},e.state={redirectLogin:!1},Object(b.o)((function(){v.key=sessionStorage.getItem("key")})),e}return Object(m.a)(a,[{key:"doLogout",value:function(){sessionStorage.removeItem("key"),sessionStorage.removeItem("username"),Object(b.o)((function(){v.key="",v.username=""}))}},{key:"render",value:function(){return r.a.createElement(C.a,{className:"navbar",position:"fixed",style:{background:"#063A4C"}},r.a.createElement(N.a,{variant:"dense",style:{maxHeight:"2rem"}},r.a.createElement(O.a,{disableGutters:!0},r.a.createElement("p",{style:{color:"#9BE8FF",marginLeft:"6em"}},"Welcome ",v.username)),r.a.createElement(O.a,{disableGutters:!0},r.a.createElement("div",{style:{float:"right"}},this.renderRedirect(),r.a.createElement("button",{className:"btnNav",onClick:this.props.renderDashboard,style:{backgroundColor:"dashboard"===this.props.selectedPage?"#009ECE":null}},"Dashboard",r.a.createElement("span",{className:"btnNav__glitch"})),r.a.createElement("button",{className:"btnNav",onClick:this.props.renderGameHistory,style:{backgroundColor:"history"===this.props.selectedPage?"#009ECE":null}},"Game History",r.a.createElement("span",{className:"btnNav__glitch"})),r.a.createElement("button",{className:"btnNav",onClick:this.props.renderWelcome,style:{backgroundColor:"about"===this.props.selectedPage?"#009ECE":null}},"About",r.a.createElement("span",{className:"btnNav__glitch"})),this.props.loggedIn?r.a.createElement("button",{className:"btnNav","data-testid":"logOut",onClick:this.doLogout,style:{marginLeft:"1.5em",marginRight:"6em"}},"Log out",r.a.createElement("span",{className:"btnNav__glitch"})):r.a.createElement("button",{className:"btnNav","data-testid":"logIn",onClick:this.doLogin,style:{marginLeft:"1.5em",marginRight:"6em"}},"Log in",r.a.createElement("span",{className:"btnNav__glitch"}))))))}}]),a}(r.a.Component),j=a(37),w=a.n(j),B=a(42),T=a.n(B),R=a(46),P=a.n(R),A=a(47),L=a.n(A),F=a(44),D=a.n(F),G=a(45),J=a.n(G),_=a(48),M=a.n(_),H=a(49),W=a.n(H),z=a(43),V=a.n(z),U=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).changeSpeed=function(t){t.preventDefault(),e.setState({speed:!e.state.speed})},e.renderPlayPause=function(){switch(e.props.playState){case"play":return r.a.createElement("button",{className:"btnIcon","data-testid":"play",onClick:e.props.playButton},r.a.createElement(w.a,null));case"resume":return r.a.createElement("button",{className:"btnIcon","data-testid":"resume",onClick:e.props.resumeButton},r.a.createElement(w.a,null));case"pause":return r.a.createElement("button",{className:"btnIcon","data-testid":"pause",onClick:e.props.pauseButton},r.a.createElement(T.a,null));default:return null}},e.state={speed:!1},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{display:"flex",verticalAlign:"middle",paddingBottom:"10px"}},this.renderPlayPause(),r.a.createElement("button",{className:"btnIcon","data-testid":"speed",onClick:this.changeSpeed},r.a.createElement(V.a,null)),this.state.speed?r.a.createElement("button",{className:"btnIcon","data-testid":"slow",onClick:this.props.slow,style:{backgroundColor:"#063a4c41"}},r.a.createElement(D.a,null)):null,this.state.speed?r.a.createElement("button",{className:"btnIcon","data-testid":"fast",onClick:this.props.fast,style:{backgroundColor:"#063a4c41"}},r.a.createElement(J.a,null)):null,r.a.createElement("button",{className:"btnIcon","data-testid":"back",onClick:this.props.stop},r.a.createElement(P.a,null)),this.props.history?null:r.a.createElement("button",{className:"btnIcon","data-testid":"reset",onClick:this.props.clear},r.a.createElement(L.a,null)),this.props.history?null:r.a.createElement("button",{className:"btnIcon","data-testid":"seed",onClick:this.props.seed},r.a.createElement(M.a,null)),this.props.history?null:r.a.createElement("button",{className:"btnIcon","data-testid":"save",onClick:this.props.save},r.a.createElement(W.a,{style:{color:this.props.loggedIn?"#17C5FA":"#036C8D"}})),""!==this.props.saveText?r.a.createElement("div",null,r.a.createElement("p",{className:"textAnimationSave",style:{paddingBottom:"10px",color:this.props.loggedIn?null:"red"}},"\xa0\xa0",this.props.saveText)):null,""!==this.props.gameInformation?r.a.createElement("div",null,r.a.createElement("p",{className:"textAnimationSave",style:{paddingBottom:"10px"}},"\xa0\xa0\xa0\xa0\xa0",this.props.gameInformation)):null)}}]),a}(r.a.Component),q=a(38),Y=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).componentDidMount=function(){var t=!0;return t&&(e.ConnectToHub(),e.props.game&&e.setState({gridFull:JSON.parse(e.props.game.initialState)})),function(){return t=!1}},e.getConnectionId=function(t){t.invoke("getconnectionid").then((function(t){e.setState({reactConnectionId:t})}))},e.onMouseClicked=function(t){"mousedown"===t.type?e.setState({click:!0}):e.setState({click:!1})},e.seed=function(){for(var t=JSON.parse(JSON.stringify(e.state.gridFull)),a=0;a<e.rows;a++)for(var n=0;n<e.cols;n++)1===Math.floor(4*Math.random())&&(t[a][n]=!t[a][n]);e.setState({gridFull:t}),e.setState({saveText:""})},e.playButton=function(){clearInterval(e.intervalId),e.intervalId=setInterval(e.play,e.speed);var t={runnerConnectionId:e.state.runnerConnectionId,reactConnectionId:e.state.reactConnectionId,generation:e.state.gridFull};fetch("/games/activegames",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).catch(console.log),e.setState({playState:"pause"}),e.props.game||sessionStorage.setItem("initialState",JSON.stringify(e.state.gridFull)),e.setState({saveText:""})},e.resumeButton=function(){clearInterval(e.intervalId),e.intervalId=setInterval(e.play,e.speed),e.setState({playState:"pause"}),e.setState({saveText:""})},e.pauseButton=function(){clearInterval(e.intervalId),e.setState({playState:"resume"}),e.setState({saveText:""})},e.stopButton=function(){clearInterval(e.intervalId),e.props.game?e.setState({gridFull:JSON.parse(e.props.game.initialState)}):e.setState({gridFull:null!==sessionStorage.getItem("initialState")?JSON.parse(sessionStorage.getItem("initialState")):Array(e.rows).fill().map((function(){return Array(e.cols).fill(!1)}))}),e.setState({playState:"play"}),e.setState({saveText:""})},e.slow=function(){e.speed=1200,e.resumeButton()},e.fast=function(){e.speed=700,e.resumeButton()},e.clear=function(){var t=Array(e.rows).fill().map((function(){return Array(e.cols).fill(!1)}));e.setState({gridFull:t}),clearInterval(e.intervalId),e.setState({playState:"play"}),e.setState({saveText:""})},e.save=function(){if(e.props.loggedIn){var t={author:v.username,initialState:sessionStorage.getItem("initialState"),token:sessionStorage.getItem("key")};fetch("/history/gamehistory",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).catch(console.log),e.setState({saveText:"Your game has been saved."})}else e.setState({saveText:"Log in to save games. "})},e.play=function(){e.calculateNextGen()},e.speed=1200,e.cols=80,e.rows=40,e.state={gridFull:null!==sessionStorage.getItem("initialState")?JSON.parse(sessionStorage.getItem("initialState")):Array(e.rows).fill().map((function(){return Array(e.cols).fill(!1)})),click:!1,playState:"play",reactConnectionId:"",runnerConnectionId:"",saveText:"",gameInformation:""},e}return Object(m.a)(a,[{key:"arrayClone",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"ConnectToHub",value:function(){var e=this,t=(new q.a).withUrl("https://activegamesapi.azurewebsites.net/Progress").configureLogging(q.b.Information).build();this.setState({hubConnection:t},(function(){e.state.hubConnection.start().then((function(){return console.log("Connection started!")})).then((function(){return e.getConnectionId(t)})).catch((function(e){return console.log("Error while establishing connection :(")})),e.state.hubConnection.on("GameInfoSent",(function(t){e.intervalId&&e.setState({gameInformation:t})}))}))}},{key:"calculateNextGen",value:function(){for(var e=this.arrayClone(this.state.gridFull),t=0;t<this.rows;t++)for(var a=0;a<this.cols;a++){var n=this.calculateNeighbors(t,a);e[t][a]=3===n||e[t][a],e[t][a]=n>=2&&n<=3&&e[t][a]}this.setState({gridFull:e})}},{key:"calculateNeighbors",value:function(e,t){var a=0,n=this.state.gridFull;return e>0&&(a+=n[e-1][t],a+=t>0?n[e-1][t-1]:0,a+=t<this.cols-1?n[e-1][t+1]:0),e<this.rows-1&&(a+=n[e+1][t],a+=t>0?n[e+1][t-1]:0,a+=t<this.cols-1?n[e+1][t+1]:0),a+=t>0?n[e][t-1]:0,a+=t<this.cols-1?n[e][t+1]:0}},{key:"colorBasedOnNeighbors",value:function(e,t){var a=this.calculateNeighbors(e,t);return a<2?"#009ECE":a<4?"#17C5FA":"#9BE8FF"}},{key:"mapGrid",value:function(){var e=this;return r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(this.cols,", 16px)")}},this.state.gridFull.map((function(t,a){return t.map((function(t,n){return r.a.createElement("div",{className:"cell","data-testid":"".concat(a,"-").concat(n),key:"".concat(a,"-").concat(n),onClick:function(){if(!e.props.history){var t=e.state.gridFull;t[a][n]=!t[a][n],e.setState({gridFull:t})}},onMouseEnter:function(){if(!0===e.state.click){var t=e.state.gridFull;t[a][n]=!t[a][n],e.setState({gridFull:t})}},style:{backgroundColor:e.state.gridFull[a][n]?e.colorBasedOnNeighbors(a,n):void 0}})}))})))}},{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:"30px"}},this.props.history?r.a.createElement("div",null,this.props.game?r.a.createElement("div",null,r.a.createElement("p",null,this.props.game.author,"'s Game"),r.a.createElement(U,{playState:this.state.playState,playButton:this.playButton,pauseButton:this.pauseButton,stop:this.stopButton,slow:this.slow,fast:this.fast,history:this.props.history,gameInformation:this.state.gameInformation}),this.mapGrid()):null):r.a.createElement("div",null,r.a.createElement("div",{onMouseDown:this.onMouseClicked,onMouseUp:this.onMouseClicked},r.a.createElement(U,{playState:this.state.playState,playButton:this.playButton,resumeButton:this.resumeButton,pauseButton:this.pauseButton,stop:this.stopButton,slow:this.slow,fast:this.fast,clear:this.clear,seed:this.seed,save:this.save,history:this.props.history,loggedIn:this.props.loggedIn,saveText:this.state.saveText,gameInformation:this.state.gameInformation}),this.mapGrid())))}}]),a}(r.a.Component),$=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.games.map((function(e){return r.a.createElement(Y,{key:e.id,game:e,history:!0})})),r.a.createElement("div",{style:{paddingBottom:20}}))}}]),a}(r.a.Component),K=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).setRedirectLogin=function(){e.setState({redirectLogin:!0})},e.renderRedirect=function(){return e.state.redirectLogin?r.a.createElement(f.a,{to:"/login"}):e.state.redirectRegister?r.a.createElement(f.a,{to:"/register"}):void 0},e.setRedirectRegister=function(){e.setState({redirectRegister:!0})},e.state={redirectLogin:!1,refirectRegister:!1},Object(b.o)((function(){v.loading=!1,v.key=sessionStorage.getItem("key")})),e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",{className:"textAnimationBig",style:{fontSize:"3rem",textAlign:"center"}},"Welcome to the ",r.a.createElement("span",{style:{color:"#17c5fa"}}," Game ",r.a.createElement("span",{style:{color:"#9be8ff"}},"of")," Life"),"."),r.a.createElement("div",{style:{display:"flex",marginTop:"40px"}},r.a.createElement("img",{src:"/gameoflife.gif",style:{border:"solid",borderWidth:"thick",borderColor:"#17c5fa"},alt:"GameOfLife"}),r.a.createElement("p",{className:"textAnimationBig",style:{marginLeft:"20px"}},"\xa0\xa0\xa0The Game of Life is a cellular automaton devised by the British mathematician John Horton Conway in 1970.",r.a.createElement("br",null),"It is a zero-player game, meaning that its evolution is determined by its initial state, requiring no further input. ",r.a.createElement("br",null),"\xa0\xa0\xa0One interacts with the Game of Life by creating an initial configuration and observing how it evolves. ",r.a.createElement("br",null),"\xa0\xa0\xa0The game has three rules: ",r.a.createElement("br",null),"\xa0\xa0\xa0\xa0\xa01. Any live cell with two or three live neighbours survives. ",r.a.createElement("br",null),"\xa0\xa0\xa0\xa0\xa02. Any dead cell with three live neighbours becomes a live cell.",r.a.createElement("br",null),"\xa0\xa0\xa0\xa0\xa03. All other live cells die in the next generation. ",r.a.createElement("br",null))),!0===this.props.loggedIn?r.a.createElement("div",null):r.a.createElement("div",null,this.renderRedirect(),r.a.createElement("div",{style:{display:"flex",marginTop:"40px",justifyContent:"center"}},r.a.createElement("p",null,"Click here to"),r.a.createElement("button",{className:"button",onClick:this.setRedirectLogin},"log in"),r.a.createElement("p",null,"or"),r.a.createElement("button",{className:"button",onClick:this.setRedirectRegister},"create an account"))))}}]),a}(r.a.Component),Q=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).renderDashboard=function(t){t.preventDefault(),e.setState({selectedPage:"dashboard"}),sessionStorage.setItem("selectedPage","dashboard")},e.renderGameHistory=function(t){t.preventDefault(),e.setState({selectedPage:"history"}),sessionStorage.setItem("selectedPage","history")},e.renderWelcome=function(t){t.preventDefault(),e.setState({selectedPage:"about"}),sessionStorage.setItem("selectedPage","about")},e.renderSelectedPage=function(){switch(e.state.selectedPage){case"dashboard":return r.a.createElement(Y,{history:!1,loggedIn:e.props.loggedIn});case"history":return r.a.createElement($,{games:e.state.games});case"about":return r.a.createElement("div",{style:{marginTop:"100px"}},r.a.createElement(K,{loggedIn:e.props.loggedIn}));default:return null}},e.state={selectedPage:sessionStorage.getItem("selectedPage")?sessionStorage.getItem("selectedPage"):"dashboard",games:[]},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/history/gamehistory").then((function(e){return e.json()})).then((function(t){e.setState({games:t})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(x,{renderDashboard:this.renderDashboard,renderGameHistory:this.renderGameHistory,renderWelcome:this.renderWelcome,selectedPage:this.state.selectedPage,loggedIn:this.props.loggedIn}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{style:{marginTop:"2.5rem"}},this.renderSelectedPage())))}}]),a}(r.a.Component),X=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),e=t.call(this),Object(b.o)((function(){v.key=sessionStorage.getItem("key"),v.username=sessionStorage.getItem("username"),v.loading=!1})),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/credentials/user/token?username=".concat(v.username,"&token=").concat(v.key));case 2:return t=e.sent,e.next=5,t.json();case 5:!0!==(t=e.sent)&&(sessionStorage.removeItem("key"),sessionStorage.removeItem("username"),Object(b.o)((function(){v.key="",v.username=""})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return v.loading?r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"textAnimationBig",style:{fontSize:"3rem",textAlign:"center"}},"Loading, please wait..."))):v.key?r.a.createElement("div",{className:"app"},r.a.createElement(g.a,null,r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/",component:function(){return r.a.createElement(Q,{loggedIn:!0})}}),r.a.createElement(f.b,{exact:!0,path:"/*",render:function(){return r.a.createElement(f.a,{to:"/"})}})))):r.a.createElement("div",{className:"app"},r.a.createElement(g.a,null,r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/",component:function(){return r.a.createElement(Q,{loggedIn:!1})}}),r.a.createElement(f.b,{exact:!0,path:"/register",component:I}),r.a.createElement(f.b,{exact:!0,path:"/login",component:k}),r.a.createElement(f.b,{exact:!0,path:"/*",render:function(){return r.a.createElement(f.a,{to:"/"})}}))))}}]),a}(r.a.Component),Z=Object(h.a)(X);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.8c2a3b6c.chunk.js.map